<ul *ngIf="scene !== null" class="scene-metadata">
  <li *ngIf="scene.metadata.perpendicular !== null">
    <span class="v-mid"><b>{{ 'PERPENDICULAR' | translate }}</b> • {{ scene.metadata.perpendicular + offsets.perpendicular }}</span>
  </li>

  <li *ngIf="scene.metadata.temporal !== null">
    <span class="v-mid"><b>{{ 'TEMPORAL' | translate }}</b> • {{ scene.metadata.temporal + offsets.temporal }}</span>
  </li>

  <li *ngIf="prop.isRelevant(p.DATE, dataset)">
    <span class="v-mid"><b>{{ 'START_TIME' | translate }}</b> • {{ scene.metadata.date | shortDateTime }}</span>
    <mat-icon *ngIf="isGeoSearch()"
      [matMenuTriggerFor]="addSceneDateMenu"
      class="v-mid clickable">
        settings
    </mat-icon>

    <mat-menu #addSceneDateMenu="matMenu">
      <button (click)="setStartDate(scene.metadata.date)" mat-menu-item>{{ 'SET_AS_START_DATE' | translate }}</button>
      <button (click)="setEndDate(scene.metadata.date)" mat-menu-item>{{ 'SET_AS_END_DATE' | translate }}</button>
    </mat-menu>
  </li>

  <li *ngIf="prop.isRelevant(p.DATE, dataset)">
    <span class="v-mid"><b>{{ 'STOP_TIME' | translate }}</b> • {{ scene.metadata.stopDate | shortDateTime }}</span>
    <mat-icon *ngIf="isGeoSearch()"
      [matMenuTriggerFor]="addSceneStopDateMenu"
      class="v-mid clickable">
        settings
    </mat-icon>

    <mat-menu #addSceneStopDateMenu="matMenu">
      <button (click)="setStartDate(scene.metadata.stopDate)" mat-menu-item>{{ 'SET_AS_START_DATE' | translate }}</button>
      <button (click)="setEndDate(scene.metadata.stopDate)" mat-menu-item>{{ 'SET_AS_END_DATE' | translate }}</button>
    </mat-menu>
  </li>

  <li *ngIf="prop.isRelevant(p.BEAM_MODE, dataset)">
    <span class="v-mid"><b>{{ 'BEAM_MODE' |translate }} </b> • {{ scene.metadata.beamMode }}</span>
    <mat-icon *ngIf="isGeoSearch()"
      [matMenuTriggerFor]="addBeamModeMenu"
      class="v-mid clickable">
        settings
    </mat-icon>

    <mat-menu #addBeamModeMenu="matMenu">
      <button (click)="setBeamMode()" mat-menu-item>Add beam mode to search</button>
    </mat-menu>
  </li>

  <li *ngIf="prop.isRelevant(p.PATH, dataset)">
    <span class="v-mid"><b>{{ 'PATH' | translate }}</b> • {{ scene.metadata.path }}</span>
    <mat-icon *ngIf="isGeoSearch()"
      [matMenuTriggerFor]="addPathMenu"
      class="v-mid clickable">
        settings
    </mat-icon>

    <mat-menu #addPathMenu="matMenu">
      <button (click)="setPathStart()" mat-menu-item>{{ 'SET_AS_PATH_START' | translate }}</button>
      <button (click)="setPathEnd()" mat-menu-item>{{'SET_AS_PATH_END' | translate }}</button>
      <button (click)="setPathStart(); setPathEnd();" mat-menu-item>{{ 'SET_AS_BOTH' | translate }}</button>
    </mat-menu>
  </li>

  <li *ngIf="prop.isRelevant(p.FRAME, dataset)">
    <span class="v-mid"> <b>{{ 'FRAME' |  translate }} </b> • {{ scene.metadata.frame }} </span>

    <mat-icon *ngIf="isGeoSearch()"
      [matMenuTriggerFor]="addFrameMenu"
      class="v-mid clickable">
        settings
    </mat-icon>

    <mat-menu #addFrameMenu="matMenu">
      <button (click)="setFrameStart()" mat-menu-item>{{ 'SET_AS_FRAME_START' | translate }}</button>
      <button (click)="setFrameEnd()" mat-menu-item>{{ 'SET_AS_FRAME_END' | translate }}</button>
      <button (click)="setFrameStart(); setFrameEnd();" mat-menu-item>{{ 'SET_AS_BOTH' | translate }}</button>
    </mat-menu>
  </li>

  <li *ngIf="prop.isRelevant(p.FLIGHT_DIRECTION, dataset)">
    <span class="v-mid"> <b>{{ 'FLIGHT_DIRECTION' | translate }} </b> • {{ scene.metadata.flightDirection }} </span>
    <mat-icon *ngIf="isGeoSearch()"
      [matMenuTriggerFor]="addFlightDirectionMenu"
      class="v-mid clickable">
        settings
    </mat-icon>

    <mat-menu #addFlightDirectionMenu="matMenu">
      <button (click)="setFlightDirection()" mat-menu-item>{{ 'SET_FLIGHT_DIRECTION' | translate }}</button>
    </mat-menu>
  </li>

  <li *ngIf="prop.isRelevant(p.POLARIZATION, dataset)">
    <span class="v-mid"> <b>{{ 'POLARIZATION' | translate }} </b> • {{ scene.metadata.polarization }} </span>

    <mat-icon *ngIf="isGeoSearch()"
      [matMenuTriggerFor]="addPolMenu"
      class="v-mid clickable">
        settings
    </mat-icon>

    <mat-menu #addPolMenu="matMenu">
      <button (click)="addPolarization()" mat-menu-item>{{ 'ADD_POLARIZATION_TO_SEARCH' | translate }}</button>
    </mat-menu>
  </li>

  <li *ngIf="prop.isRelevant(p.OFF_NADIR_ANGLE, dataset)"
    class="detail-item-margin">
    <b>Off Nadir Angle </b> • {{ scene.metadata.offNadirAngle }}
  </li>

  <li *ngIf="prop.isRelevant(p.POINTING_ANGLE, dataset)"
    class="detail-item-margin">
    <b>Pointing Angle </b> • {{ scene.metadata.pointingAngle }}
  </li>

  <li *ngIf="prop.isRelevant(p.FARADAY_ROTATION, dataset) && scene.metadata.faradayRotation !== 0"
    class="detail-item-margin">
    <b>Faraday Rotation </b> • {{ scene.metadata.faradayRotation }}
  </li>

  <li *ngIf="prop.isRelevant(p.MISSION_NAME, dataset)"
    class="detail-item-margin">
    <span class="v-mid"> <b>Campaign Name </b> • {{ scene.metadata.missionName }} </span>

    <mat-icon *ngIf="isGeoSearch()"
      [matMenuTriggerFor]="addMissionMenu"
      class="v-mid clickable">
        settings
    </mat-icon>

    <mat-menu #addMissionMenu="matMenu">
      <button (click)="addMission()" mat-menu-item>{{ 'SET_CAMPAIGN_NAME' | translate }}</button>
    </mat-menu>
  </li>

  <li *ngIf="prop.isRelevant(p.FLIGHT_LINE, dataset)"
    class="detail-item-margin">
    <b>{{ 'FLIGHT_LINE' | translate }} </b> • {{ scene.metadata.flightLine }}
  </li>

  <li *ngIf="prop.isRelevant(p.ABSOLUTE_ORBIT, dataset)"
    class="detail-item-margin">
    <b>{{'ABSOLUTE_ORBIT' | translate}} </b> • {{ scene.metadata.absoluteOrbit | join: ', ' }}
  </li>

  <li *ngIf="hasValue(scene.metadata.stackSize)" class="detail-item-margin">
    <b>{{ 'MATCHING_FRAMES' | translate }} </b> • {{ scene.metadata.stackSize }}
  </li>

  <li *ngIf="dataset.source as source" class="detail-item-margin">
    <a *ngIf="source.url" [href]="source.url" target="_blank"> Data courtesy of {{ dataset.source.name }}</a>
    <span *ngIf="!source.url" class="faint-text"> Data courtesy of {{ dataset.source.name }}</span>
  </li>

  <li *ngIf="dataset.citationUrl as citation" class="detail-item-margin">
    <a *ngIf="citation" [href]="citation"
       target="_blank"
       matTooltip="How to cite using this data">{{ 'CITATION' | translate }}</a>
  </li>

</ul>
