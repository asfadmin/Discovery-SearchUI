<div
  [matMenuTriggerFor]="menu"
  *ngIf="searchType === searchTypes.DATASET"
  style="padding: 2px;" class="faint-text clickable">
  <span [class.invisible]="searchType !== searchTypes.DATASET">
    <span>
        {{ formatNumber(maxResults) }} <mat-icon
          class="faint-text clickable">arrow_drop_down</mat-icon>
    </span>
      {{ 'OF' | translate }}
    </span>

    <span *ngIf="!isMaxResultsLoading">
      {{ currentSearchAmount !== -1 ? formatNumber(currentSearchAmount) : '0' }}
    </span>
    <span *ngIf="isMaxResultsLoading"
      style="margin: 0 4px;">
      <fa-icon icon="spinner" [pulse]="true"></fa-icon>
    </span>
    {{ 'FILTERS' | translate }}

</div>

<div
  *ngIf="searchType !== searchTypes.DATASET && searchType !== searchTypes.SARVIEWS_EVENTS"
  style="padding: 2px;" class="faint-text">
  <span [class.invisible]="true">
    <span>
        {{ formatNumber(maxResults) }} <mat-icon
          class="faint-text clickable">arrow_drop_down</mat-icon>
    </span>
      {{ 'OF' | translate }}
    </span>

    <span *ngIf="!isMaxResultsLoading">
      <span *ngIf="searchType !== searchTypes.SBAS
            && searchType !== searchTypes.CUSTOM_PRODUCTS"
      >
        {{ currentSearchAmount !== -1 ? formatNumber(currentSearchAmount) : '0' }}
      </span>
      <span *ngIf="searchType === searchTypes.SBAS">
        {{ sbasProducts?.length !== -1 ? formatNumber(sbasProducts?.length) : '0' }}
      </span>
      <span *ngIf="searchType === searchTypes.CUSTOM_PRODUCTS">
        {{ numberOfScenes !== 0 ? formatNumber(numberOfScenes): '0' }}
      </span>
    </span>
    <span *ngIf="isMaxResultsLoading"
      style="margin: 0 4px;">
      <fa-icon icon="spinner" [pulse]="true"></fa-icon>
    </span>
    {{ 'FILTERS' | translate }}
</div>

<mat-menu #menu="matMenu">
  <button *ngFor="let amount of possibleMaxResults"
    (click)="onNewMaxResults(amount)" mat-menu-item>
      <span>{{ formatNumber(amount) }} {{'FILES' | translate }}</span>
  </button>

</mat-menu>
