<div mat-dialog-title cdkDrag cdkDragHandle cdkDragRootElement=".cdk-overlay-pane"
  cdkDragBoundary=".cdk-global-overlay-wrapper" (resized)="onResized($event)">

  <div class="dl-title-group">
    <h1>
      Layers
      <!-- {{ 'LAYER_DIALOG_TITLE' | translate }} -->
    </h1>
  </div>
  <div class="dl-close-x" (click)="onCloseDownloadQueue()">
    <mat-icon>close</mat-icon>
  </div>
</div>

<mat-dialog-content class="dl-mat-dialog-content">
  <div class="options-list">
    <mat-list-item *ngFor="let layer of layerArray" role="listitem">
      <div matLine class="item-content" [ngClass]="{'dl-list-item-mobile' : breakpoint === breakpoints.MOBILE, 'selected-item': selectedLayer.id === layer.id}">
        <button mat-button (click)="setSelectedLayer(layer)" style="width: 100%;">{{layer.label}}</button>
      </div>
    </mat-list-item>
  </div>
  <div class="sub-layer-menu">
    <div class="sub-layer-menu-content">

      <ng-container *ngIf="selectedLayer">
        <h3>{{selectedLayer.label}}</h3>
        <span class="layer-description">{{selectedLayer.description}}</span>
        <div *ngIf="selectedLayer.opacity" style="margin: 5px">
          Opacity: 
          <mat-slider thumbLabel tickInterval="0.1" step="0.05" value="1" min="0.0" max="1.0"
          class="opacity-slider"
          name="layerType"
          (input)="selectedLayer.opacity.set($event.value)"
          color="primary">
          </mat-slider>
        </div>
        <div *ngIf="selectedLayer.type === 'TOGGLE'">
          <mat-slide-toggle (change)="onOptionSelect($event.checked, selectedLayer)"
            [checked]="selectedLayer.asyncValue | async">Enabled</mat-slide-toggle>
        </div>
        <div *ngIf="selectedLayer.type === 'LIST'" style="display:flex; flex-direction: column;">
          <mat-list-item *ngFor="let item of selectedLayer.sub" class="layer-list-item">
            <mat-radio-button (click)="onOptionSelect(item.value, selectedLayer)" [value]="item.value"
              [checked]="(selectedLayer.asyncValue | async) === item.value">{{item.name}}</mat-radio-button>
          </mat-list-item>
        </div>
      </ng-container>
    </div>

  </div>
  <div id="overlay-map"></div>
  <div>

  </div>
</mat-dialog-content>